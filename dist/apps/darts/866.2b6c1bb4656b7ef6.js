"use strict";var wn=Object.defineProperty,Fn=Object.defineProperties,On=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,Sn=Object.prototype.propertyIsEnumerable,ct=(f,c,a)=>c in f?wn(f,c,{enumerable:!0,configurable:!0,writable:!0,value:a}):f[c]=a,C=(f,c)=>{for(var a in c||(c={}))Nn.call(c,a)&&ct(f,a,c[a]);if(ut)for(var a of ut(c))Sn.call(c,a)&&ct(f,a,c[a]);return f},O=(f,c)=>Fn(f,On(c));(self.webpackChunkdarts=self.webpackChunkdarts||[]).push([[866],{866:(f,c,a)=>{a.r(c),a.d(c,{DartsUiFeatureGameModule:()=>bn});var M=a(19),dt=a(509),ht=a(908),o=a(556),ue=a(522);let ft=(()=>{class n{constructor(e){this.httpClient=e}postThrow(e){return this.httpClient.post("https://darts-node-api.herokuapp.com/api/throws",e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue.eN))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pt=["points"];function gt(n,t){if(1&n&&(o.TgZ(0,"div",4),o.TgZ(1,"h3",5),o._uU(2),o.qZA(),o.TgZ(3,"p",6),o._uU(4),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.name),o.xp6(2),o.Oqu(e.score)}}function mt(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"button",8),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().selectSpecial(s)}),o._uU(2),o.qZA(),o.qZA()}if(2&n){const e=t.$implicit,r=o.oxw();o.xp6(1),o.Q6J("ngClass",r.getClass(e)),o.xp6(1),o.Oqu(e)}}function _t(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"button",9),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().reduceScore(s)}),o._uU(2),o.qZA(),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e)}}let yt=(()=>{class n{constructor(e){this.dartsService=e,this.throwArrow={player:"619bf83c95971fe8b714f6f6",points:void 0,isDouble:!1,isTriple:!1,isGreenBull:!1,isRedBull:!1},this.postThrow$=new ht.w0,this.players=[{id:"1",name:"Micha\xebl",score:501}],this.score={id:"0",playerId:"1",score:void 0},this.isSubmitted=!1,this.throwingPlayer={id:"0",name:"",score:0},this.dartsSpecials=["T","D","50","25"],this.dartsNumbers=[20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],this.isDouble=!1,this.isTriple=!1,this.isGreenBull=!1,this.isRedBull=!1}ngOnInit(){this.throwingPlayer=this.players[0]}ngOnDestroy(){this.postThrow$.unsubscribe()}getClass(e){return"T"===e&&this.isTriple||"D"===e&&this.isDouble?"bg-success":""}reduceScore(e){let r=e;this.isDouble?r*=2:this.isTriple&&(r*=3),this.throwArrow.player="619bf83c95971fe8b714f6f6",this.throwArrow.points=e,this.throwArrow.isDouble=this.isDouble,this.throwArrow.isTriple=this.isTriple,this.throwArrow.isGreenBull=this.isGreenBull,this.throwArrow.isRedBull=this.isRedBull,this.postThrow$=this.dartsService.postThrow(this.throwArrow).subscribe(i=>{this.throwArrow={player:"619bf83c95971fe8b714f6f6",points:void 0,isDouble:!1,isTriple:!1,isGreenBull:!1,isRedBull:!1},this.isSubmitted=!1,this.throwingPlayer.score=this.throwingPlayer.score-r>0?this.throwingPlayer.score-r:501,this.resetSpecials()})}selectSpecial(e){switch(e){case"D":this.isDouble=!0;break;case"T":this.isTriple=!0;break;case"25":this.isGreenBull=!0,this.reduceScore(25);break;case"50":this.isRedBull=!0,this.reduceScore(50)}}resetSpecials(){this.isDouble=!1,this.isTriple=!1,this.isGreenBull=!1,this.isRedBull=!1}updateScore(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ft))},n.\u0275cmp=o.Xpm({type:n,selectors:[["micclo-game"]],viewQuery:function(e,r){if(1&e&&o.Gf(pt,7),2&e){let i;o.iGM(i=o.CRH())&&(r.pointsField=i.first)}},decls:6,vars:3,consts:[[1,"text-decoration-underline","text-center"],["id","scoreCard",4,"ngFor","ngForOf"],[1,"row"],["class","col-3 text-center",4,"ngFor","ngForOf"],["id","scoreCard"],[1,"text-center","fs-3"],[1,"text-center","fs-1"],[1,"col-3","text-center"],["type","button",1,"btn","btn-lg","btn-primary","dartsThrowBtn","m-1",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-primary","dartsThrowBtn","m-1",3,"click"]],template:function(e,r){1&e&&(o.TgZ(0,"h1",0),o._uU(1,"501 - Double Out"),o.qZA(),o.YNc(2,gt,5,2,"div",1),o.TgZ(3,"div",2),o.YNc(4,mt,3,2,"div",3),o.YNc(5,_t,3,1,"div",3),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngForOf",r.players),o.xp6(2),o.Q6J("ngForOf",r.dartsSpecials),o.xp6(1),o.Q6J("ngForOf",r.dartsNumbers))},directives:[M.sg,M.mk],styles:["h1[_ngcontent-%COMP%]{margin-bottom:40px}#scoreCard[_ngcontent-%COMP%]{margin:25px}.dartsThrowBtn[_ngcontent-%COMP%]{width:100%}"]}),n})();a(867),a(305),a(886),a(985),a(830),a(889),a(937),a(857),a(753);let Ye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ye]]}),n})(),Dn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn]}),n})(),bn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[M.ez,dt.Bz.forChild([{path:"",pathMatch:"full",component:yt}]),Dn,ue.JF]]}),n})()}}]);